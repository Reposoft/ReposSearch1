Index: solrhome/svnhead/conf/velocity/footer.vm
===================================================================
--- solrhome/svnhead/conf/velocity/footer.vm	(revision 1042)
+++ solrhome/svnhead/conf/velocity/footer.vm	(revision 1234)
@@ -1,5 +1,5 @@
 <hr/>
-<div>
+<div class="options">
   <span>Options:</span>
   #if($request.params.get('debugQuery'))
   <a href="#url_for_home?#q#if($list.size($request.params.getParams('fq')) > 0)&#fqs($request.params.getParams('fq'))#end">disable debug</a>
@@ -12,6 +12,7 @@
   <a href="#url_for_lens&annotateBrowse=true">enable annotation</a>
   #end
   <a #annTitle("Click to switch to an XML response: &wt=xml") href="#url_for_lens&wt=xml#if($request.params.get('debugQuery'))&debugQuery=true#end">XML</a></div>
+<div class="info">
 <div>Generated by <a href="http://wiki.apache.org/solr/VelocityResponseWriter">VelocityResponseWriter</a></div>
 <div><span>Documentation: </span> <a href="http://lucene.apache.org/solr">Solr Home Page</a>, <a href="http://wiki.apache.org/solr">Solr Wiki</a></div>
-<div>Disclaimer: The locations displayed in this demonstration are purely fictional.  It is more than likely that no store with the items listed actually exists at that location!</div>        
\ No newline at end of file
+</div>
\ No newline at end of file
Index: solrhome/svnhead/conf/velocity/browse.vm
===================================================================
--- solrhome/svnhead/conf/velocity/browse.vm	(revision 1042)
+++ solrhome/svnhead/conf/velocity/browse.vm	(revision 1234)
@@ -12,10 +12,14 @@
   #parse("facets.vm")
 </div>
 
+<div id="resultsheadline">
+	<h2>Results</h2>
+</div>
+
 <div class="pagination">
   #if($response.response.get('grouped'))
     <span><span class="results-found">$response.response.get('grouped').size() group(s)</span> found in ${response.responseHeader.QTime} ms</span>
-  #else<span><span class="results-found">$page.results_found</span> results found in ${response.responseHeader.QTime} ms</span>
+  #else<span><span class="results-found">$page.results_found</span> results found in ${response.responseHeader.QTime} ms.</span>
   Page <span class="page-num">$page.current_page_number</span> of <span
         class="page-count">$page.page_count</span>#end
 </div>
Index: solrhome/svnhead/conf/velocity/head.vm
===================================================================
--- solrhome/svnhead/conf/velocity/head.vm	(revision 1042)
+++ solrhome/svnhead/conf/velocity/head.vm	(revision 1234)
@@ -6,6 +6,7 @@
 <script type="text/javascript" src="#{url_for_solr}/admin/jquery-1.4.3.min.js"></script>
   <link rel="stylesheet" type="text/css" href="#{url_for_solr}/admin/file?file=/velocity/main.css&contentType=text/css"/>
   <link rel="stylesheet" href="#{url_for_solr}/admin/file?file=/velocity/jquery.autocomplete.css&contentType=text/css" type="text/css" />
+  <link rel="stylesheet" type="text/css" href="#{url_for_solr}/admin/file?file=/velocity/cust-repos.css&contentType=text/css"/>  
   <script type="text/javascript" src="#{url_for_solr}/admin/file?file=/velocity/jquery.autocomplete.js&contentType=text/javascript"></script>
 
 
Index: solrhome/svnhead/conf/velocity/doc.vm
===================================================================
--- solrhome/svnhead/conf/velocity/doc.vm	(revision 1042)
+++ solrhome/svnhead/conf/velocity/doc.vm	(revision 1234)
@@ -1,10 +1,34 @@
-<div class="result-title"><b>#field('name')</b><span class="mlt">#if($params.getBool('mlt', false) == false)<a href="#lensNoQ&q=id:$docId&mlt=true">More Like This</a>#end</span></div>
+<div class="result-title">
+<b>
+#if($doc.getFieldValue('title'))
+ #field('title')
+#else
+ id: #field('id')
+#end
+</b>
+<span class="mlt">#if($params.getBool('mlt', false) == false)<a href="#lensNoQ&q=id:$docId&mlt=true">More Like This</a>#end</span></div>
 ##do we have a physical store for this product
-#set($store = $doc.getFieldValue('store'))
-#if($store)<div class="map"><img src="http://maps.google.com/maps/api/staticmap?&zoom=12&size=150x80&maptype=roadmap&markers=$doc.getFieldValue('store')&sensor=false" /><div><small><a target="_map" href="http://maps.google.com/?q=$store&amp;source=embed">Larger Map</a></small></div></div>#end
-<div>Price: $!number.currency($doc.getFieldValue('price'))</div>
-<div>Features: #field('features')</div>
-<div>In Stock: #field('inStock')</div>
+## Neither Tika nor Solr Cell produces a location field yet, only separate fields
+###set($location = $doc.getFieldValue('store'))
+#if($doc.getFieldValue('geo_lat'))
+ #set($location = $doc.getFieldValue('geo_lat') + "," + $doc.getFieldValue('geo_long'))
+#end
+#if($location)
+<div class="map">
+<a target="_map" href="http://maps.google.com/?q=$location&amp;source=embed">
+<img src="http://maps.google.com/maps/api/staticmap?&zoom=12&size=150x80&maptype=roadmap&markers=$location&sensor=false" />
+</a>
+</div>
+#end
+
+<ul class="result#if($location) geotagged#end">
+#foreach($fieldname in $doc.fieldNames)
+ #foreach($value in $doc.getFieldValues($fieldname))
+  <li class="field-$fieldname" title="$fieldname">$value</li>
+ #end
+#end
+</ul>
+
 <div class="mlt">
   #set($mlt = $mltResults.get($docId))
   #set($mltOn = $params.getBool('mlt'))
@@ -39,4 +63,4 @@
   #end
    </br>
   </pre2>
-#end
\ No newline at end of file
+#end
Index: solrhome/svnhead/conf/velocity/layout.vm
===================================================================
--- solrhome/svnhead/conf/velocity/layout.vm	(revision 1042)
+++ solrhome/svnhead/conf/velocity/layout.vm	(revision 1234)
@@ -1,3 +1,5 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <html>
 <head>
   #parse("head.vm")
